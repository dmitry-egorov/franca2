- [ ] identifier node type, and get rid of &[x] everywhere
- [ ] primitive types
    - every local has a type
    - every expression has a type
    - show error when types don't match?
    - choose arithmetic operations based on type
    - [ ] specify types
        - [+] primitives test
        - [+] prelude
        - [ ] others
    - [+] take type in var   defs
    - [+] take type in param defs
    - [+] take type in func  defs
    - [ ] determine node type when emitting
    - [ ] print different types
    - [ ] parse negatives
    - [ ] parse floats
- [ ] stack structs
    - treat as multiple variables
    - no pointers (yet)
- [ ] generalize string builder for istr
- [ ] inline functions
    - [ ] pop from stack instead of binding to parameters
    - [ ] apply inline modifiers
- [ ] inline wasm
- [ ] pointers
    - [ ] linear stack?
    - [ ] base memory as global variable?
- [ ] should gather defs when creating a new scope?
- [ ] inline functions? (e.g. for istr)
- [ ] lower level func def with explicit params and returns?
- [ ] rethink literal types?
- [ ] support nested func definitions? (gather recursively)
- [ ] structs
    - https://github.com/WebAssembly/tool-conventions/blob/main/BasicCABI.md
- [ ] generate an array type
- [ ] imports? to import a prelude
- [ ] navigate node tree with keyboard
- [ ] cursor
    - [ ] display blinking cursor
    - [ ] only redraw when state changes
    - [ ] move cursor
    - [ ] scroll view
- [ ] edit
- [ ] block lines
- [ ] line and col in errors
- [ ] wasm jit?

done
- [+] chars
- [+] +=, ...
- [+] show whitespaces, but ignore the ones before indentation
- [+] move some builtins to prelude
- [+] prelude
- [+] concat multiple files
- [+] out of order definitions
    - [+] declare_func, define_func
- [+] compile to wasm
    - https://blog.scottlogic.com/2019/05/17/webassembly-compiler.html
    - https://gist.github.com/AlexAltea/78e8da45e20fdb1bf2afb8816de53bae
    - [+] emit empty module
    - [+] emit module with empty function
        - [+] emit type
        - [+] emit func
        - [+] emit code
    - [+] export and call function
    - [+] import log_int function
    - [+] import log string function
        - need to provide a pointer to memory
    - [+] compile ast
        - [+] print
            - [+] istr
                - [+] uint_to_string
                - [+] uint_to_string as function
- [+] textual func names
- [+] change syntax of functions to id[]
- [+] function definitions
- [+] function calls
- [+] eq op
- [+] return
- [+] if
- [+] loop
- [+] recursion
- [+] remove istring from parsing
- [+] fib function
- [+] local scopes
    - [+] block node
    - [+] local variables
- [+] disabled blocks
- [+] global mutable variables
- [+] immediate execution (not lazy)
- [+] store pattern as list, use string literals
- [+] rework ast, so that it's executable
- [+] display ast
- [+] execute
- [+] definitions pass
- [+] support both brackets on the same symbol
- [+] display node tree
    - [+] specify    node tree
    - [+] parse into node tree
    - [+] rasterize  node tree
- [+] draw line numbers
- [+] align arena allocations
- [+] measure performance
    - [+] write timestamp queries
    - [+] debug panel
    - [+] display gpu time in the debug window
    - [+] timing string in a compute shader
- [+] round inlays
- [+] wgsl files
- [+] display nesting inlays
- [+] display text colors
- [+] display text view
    - [+] text represented as a set of glyph ids
- [+] dpi aware resolution
- [+] alpha blend